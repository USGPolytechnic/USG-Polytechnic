<!DOCTYPE html><html lang="en" class="no-js"><head>
    

<meta name="robots" content="nofollow">


      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://embedded-systems-design.github.io/template_report/Block%20Diagram%2C%20Process%20Diagram%2C%20and%20Message%20Structure/The%20Process%20Diagram/">
      
      
        <link rel="prev" href="../Message%20Structure/">
      
      
        <link rel="next" href="../Individual%20Block%20Diagrams/%28HMI%29%20LCD%20Block%20Diagram%20%28Kevin%29/">
      
      
      <link rel="icon" href="../../static/logo.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.18">
            

        

    
      
        <title>The Process Diagram - EGR314 Team 308</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.66ac8b77.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"Lato";--md-code-font:"Fira Code"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    


  <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="white">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#communication-sequence-functionality-requirements-alignment" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="EGR314 Team 308" class="md-header__button md-logo" aria-label="EGR314 Team 308" data-md-component="logo">
      
  <img src="../../static/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            EGR314 Team 308
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              The Process Diagram
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/embedded-systems-design/template_report" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="EGR314 Team 308" class="md-nav__button md-logo" aria-label="EGR314 Team 308" data-md-component="logo">
      
  <img src="../../static/logo.svg" alt="logo">

    </a>
    EGR314 Team 308
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/embedded-systems-design/template_report" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    üèÜ Welcome to USG Polytechnic Student Information Page
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Appendix/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Team Member Communication Modes
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Datasheets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Datasheets for Components
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ideation%20and%20Concept%20Generation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ideation and Concept Generation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Poster/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Poster
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Reflection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reflection
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resources
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" checked>
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Block Diagram, Process Diagram, and Message Structure
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Block Diagram, Process Diagram, and Message Structure
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Block%20Diagram/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Block Diagram
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Message%20Structure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Message Structure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    The Process Diagram
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    The Process Diagram
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-user-initiated-data-request" class="md-nav__link">
    <span class="md-ellipsis">
      1. User-Initiated Data Request
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-sensor-polling-response" class="md-nav__link">
    <span class="md-ellipsis">
      2. Sensor Polling &amp; Response
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-local-display-update-actuator-control" class="md-nav__link">
    <span class="md-ellipsis">
      3. Local Display Update &amp; Actuator Control
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-cloud-publication-remote-monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      4. Cloud Publication &amp; Remote Monitoring
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-error-handling-safety" class="md-nav__link">
    <span class="md-ellipsis">
      5. Error Handling &amp; Safety
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Error Handling &amp; Safety">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#summary-of-functional-alignment" class="md-nav__link">
    <span class="md-ellipsis">
      Summary of Functional Alignment
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#top-5-changes-to-software-desingn" class="md-nav__link">
    <span class="md-ellipsis">
      Top 5 changes to software desingn
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Top 5 changes to software desingn">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#top-5-biggest-changes-to-software-design-since-the-software-proposal" class="md-nav__link">
    <span class="md-ellipsis">
      Top 5 Biggest Changes to Software Design Since the Software Proposal
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../Individual%20Block%20Diagrams/%28HMI%29%20LCD%20Block%20Diagram%20%28Kevin%29/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Individual Block Diagrams
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
      
        
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9">
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Static
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Static
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    
  
  
    <a href="../../static/node_modules/mathjax/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Node modules
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-user-initiated-data-request" class="md-nav__link">
    <span class="md-ellipsis">
      1. User-Initiated Data Request
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-sensor-polling-response" class="md-nav__link">
    <span class="md-ellipsis">
      2. Sensor Polling &amp; Response
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-local-display-update-actuator-control" class="md-nav__link">
    <span class="md-ellipsis">
      3. Local Display Update &amp; Actuator Control
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-cloud-publication-remote-monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      4. Cloud Publication &amp; Remote Monitoring
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-error-handling-safety" class="md-nav__link">
    <span class="md-ellipsis">
      5. Error Handling &amp; Safety
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Error Handling &amp; Safety">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#summary-of-functional-alignment" class="md-nav__link">
    <span class="md-ellipsis">
      Summary of Functional Alignment
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#top-5-changes-to-software-desingn" class="md-nav__link">
    <span class="md-ellipsis">
      Top 5 changes to software desingn
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Top 5 changes to software desingn">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#top-5-biggest-changes-to-software-design-since-the-software-proposal" class="md-nav__link">
    <span class="md-ellipsis">
      Top 5 Biggest Changes to Software Design Since the Software Proposal
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/embedded-systems-design/template_report/edit/main/docs/Block Diagram, Process Diagram, and Message Structure/The Process Diagram.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"></path></svg>
    </a>
  
  


<p><a href="https://app.diagrams.net/#G1YnGLDMCkIUuk0xOXI2Jxs83gCzxwHKuU#%7B%22pageId%22%3A%22pc2VwhXcHSOIUS0fXVyV%22%7D">Process Diagram</a></p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="https://github.com/user-attachments/assets/378fe910-acfc-4388-b1a4-41c9dcc8e059" data-desc-position="bottom"><img alt="Screenshot 2025-03-08 002553" src="https://github.com/user-attachments/assets/378fe910-acfc-4388-b1a4-41c9dcc8e059"></a></p>
<hr>
<h1 id="communication-sequence-functionality-requirements-alignment">Communication Sequence Functionality &amp; Requirements Alignment</h1>
<p>Our sequence diagram captures the end-to-end flow of data and control between the Web User, ESP32 Wi-Fi/Cloud subsystem, HMI, Sensor board, and Motor board. Below we dissect each major functional step, illustrating how it meets both user needs and the product requirements.</p>
<hr>
<h2 id="1-user-initiated-data-request">1. User-Initiated Data Request</h2>
<p><strong>Flow:</strong><br>
1. <strong>Web User ‚Üí MQTT Server</strong><br>
   - User clicks ‚ÄúGet Weather Data‚Äù in the companion app or browser.<br>
2. <strong>MQTT Server ‚Üí ESP32 (Web Subsystem)</strong><br>
   - ESP32 subscribes to a ‚Äúrequest/data‚Äù topic and immediately receives the trigger.  </p>
<p><strong>Function &amp; Benefits:</strong><br>
- <strong>On-Demand Control:</strong> Empowers remote users to manually refresh data, satisfying the requirement for interactive, user-driven queries.<br>
- <strong>Decoupled Architecture:</strong> By using MQTT topics, the Web-to-device link is robust to network fluctuations and scales to multiple clients without modifying embedded code.</p>
<hr>
<h2 id="2-sensor-polling-response">2. Sensor Polling &amp; Response</h2>
<p><strong>Flow:</strong><br>
1. <strong>ESP32 ‚Üí PIC18F (Sensor Subsystem)</strong> via UART<br>
   - Frames a <strong>Request Sensor Data</strong> message (Type 0x0002) with Source=T, Dest=E.<br>
2. <strong>PIC18F ‚Üí ESP32</strong> via UART<br>
   - Replies with <strong>Sensor Data Response</strong> (Type 0x0003), packing temperature (√ó100), humidity (√ó100), and flow rate (√ó100) in a single 64-byte frame.</p>
<p><strong>Function &amp; Benefits:</strong><br>
- <strong>Deterministic Timing:</strong> UART exchange completes in under 50 ms, ensuring end-to-end latency stays well below the 500 ms target.<br>
- <strong>Compact, Scalable Data:</strong> Packing three sensor readings in one frame reduces bus traffic and simplifies parsing on both ends.<br>
- <strong>Error Detection Ready:</strong> Fixed headers/footers allow both boards to detect framing errors and respond with an Error Message if needed.</p>
<hr>
<h2 id="3-local-display-update-actuator-control">3. Local Display Update &amp; Actuator Control</h2>
<p><strong>Flow:</strong><br>
1. <strong>ESP32 ‚Üí PIC18F (HMI Subsystem)</strong> via UART<br>
   - Sends an <strong>LCD Update Command</strong> (Type 0x0004) including a formatted text string:<br>
     </p><div class="highlight"><pre><span></span><code>‚ÄúTemp: 25.5¬∞C, Hum: 50.1%, Flow: 10.5 L/min‚Äù
</code></pre></div>
2. <strong>ESP32 ‚Üí PIC18F (Motor Subsystem)</strong> via UART (if temperature threshold exceeded)<br>
   - Sends a <strong>Set Water Flow</strong> command (Type 0x0001) with desired flow rate.<br>
3. <strong>PIC18F (Motor) ‚Üí ESP32 &amp; HMI</strong><br>
   - Acknowledges with a <strong>Sensor Data Response</strong> echoing new actuator state, and publishes a <strong>Motor Status</strong> update to the HMI display via another LCD Update Command.<p></p>
<p><strong>Function &amp; Benefits:</strong><br>
- <strong>Immediate Local Feedback:</strong> Users at the exhibit see current values and actuator state on the I¬≤C LCD within tens of milliseconds.<br>
- <strong>Automatic Control Logic:</strong> Temperature-driven ‚Äúif &gt; threshold, send flow command‚Äù logic runs on the ESP32, providing hands-free regulation‚Äîkey for agricultural demos.<br>
- <strong>Consistent UX:</strong> All subsystems use the same framing and ID scheme, reducing firmware complexity and improving maintainability.</p>
<hr>
<h2 id="4-cloud-publication-remote-monitoring">4. Cloud Publication &amp; Remote Monitoring</h2>
<p><strong>Flow:</strong><br>
1. <strong>ESP32 ‚Üí MQTT Server</strong><br>
   - Publishes a <strong>Cloud Update</strong> message (Type 0x0005) serialized as JSON, containing <code>{ "temp":2550, "hum":5010, "flow":1050 }</code>.<br>
2. <strong>MQTT Server ‚Üí Web User</strong><br>
   - Distributes the updated payload to all subscribed dashboards in real time.</p>
<p><strong>Function &amp; Benefits:</strong><br>
- <strong>Real-Time Remote Visibility:</strong> Stakeholders off-site can monitor conditions live, fulfilling the ‚Äúonline rapid updates‚Äù requirement.<br>
- <strong>Standardized Data Format:</strong> JSON payloads enable easy integration with third-party analytics or mobile apps without additional parsing code on the microcontrollers.</p>
<hr>
<h2 id="5-error-handling-safety">5. Error Handling &amp; Safety</h2>
<p><strong>Flow:</strong><br>
1. <strong>Any MCU ‚Üí ESP32 (or upstream board)</strong><br>
   - On detect¬≠ed framing, sensor, or communication failure, sends an <strong>Error Message</strong> (Type 0x0006) with subsystem ID and ASCII error string.<br>
2. <strong>ESP32 ‚Üí HMI &amp; Web</strong><br>
   - Displays the error on the LCD and publishes an alert topic via MQTT.<br>
3. <strong>Fail-Safe Actuation</strong><br>
   - Motor board, upon detect¬≠ing ‚Äúsensor offline‚Äù or repeated framing errors, automatically shuts down the actuator.</p>
<p><strong>Function &amp; Benefits:</strong><br>
- <strong>Robust Diagnostics:</strong> Clear error propagation ensures fast troubleshooting during demos or field use.<br>
- <strong>User Safety:</strong> Automated motor shutdown on critical faults prevents uncontrolled water flow‚Äîmeeting safety requirements for all-age exhibits.</p>
<hr>
<h3 id="summary-of-functional-alignment">Summary of Functional Alignment</h3>
<ul>
<li><strong>Latency &amp; Predictability</strong>: Deterministic framing and prioritized message types guarantee sub-second loops.  </li>
<li><strong>Bi-Directional Control</strong>: Both manual (web) and automatic (threshold-based) command paths exist.  </li>
<li><strong>Scalability &amp; Maintainability</strong>: Uniform message format and modular blocks simplify adding new sensors or actuators.  </li>
<li><strong>Educational Transparency</strong>: Each step‚Äîfrom request through actuation‚Äîis explicit, making it easy for students to trace and understand in the exhibit setting.  </li>
<li><strong>Reliability &amp; Safety</strong>: Error messages and fail-safe logic are integral to the sequence, ensuring the system remains stable and secure under fault conditions.</li>
</ul>
<hr>
<h2 id="top-5-changes-to-software-desingn">Top 5 changes to software desingn</h2>
<h3 id="top-5-biggest-changes-to-software-design-since-the-software-proposal">Top 5 Biggest Changes to Software Design Since the Software Proposal</h3>
<ol>
<li>
<p><strong>Sensor Rework and Integration</strong><br>
   Initially, the team encountered issues with sensor selection, requiring multiple iterations to find a reliable temperature and humidity sensor. The previous sensors either failed due to voltage inconsistencies or were incompatible with the system‚Äôs communication protocol. The team ultimately selected the <strong>AHT21</strong>, which offered stable data transmission and was easy to integrate using <strong>I2C communication</strong>. This change ensured accurate environmental readings, improving system functionality and satisfying project requirements. The <strong>UML sequence diagram</strong> illustrates how sensor data is properly transmitted via <strong>WiFi and UART</strong>, ensuring reliable communication with the MQTT system and motor subsystem.  </p>
</li>
<li>
<p><strong>HMI Rework for User Interaction and Proper Display</strong><br>
   The initial HMI design lacked clarity in displaying temperature and humidity readings, creating difficulties for user interaction. The team reworked the HMI structure to properly visualize real-time environmental data, ensuring that users could access updates efficiently. The improvements included optimizing <strong>SPI communication</strong> and refining <strong>display logic</strong>, ensuring that sensor readings were correctly formatted. This refinement is reflected in the <strong>sequence diagram</strong>, where the <strong>HMI now processes and displays information</strong> received from the MQTT system and motor drive, ensuring proper user feedback.  </p>
</li>
<li>
<p><strong>Byte System Redesign for Data Transmission</strong><br>
   The initial approach to <strong>byte-based communication</strong> caused misinterpretations between subsystems, leading to incorrect actuator responses and inconsistent data flow. The team redefined the <strong>8-byte structure</strong>, ensuring each subsystem clearly understands its role and can process messages accurately. This involved assigning <strong>specific bytes</strong> to <strong>source ID, destination ID, message data, and control flags</strong>, ensuring seamless integration between the <strong>sensor, motor drive, MQTT system, and HMI display</strong>. The <strong>UML diagram</strong> highlights structured message transmission, demonstrating how systems now exchange properly formatted data without errors.  </p>
</li>
<li>
<p><strong>MPLAB Code Functionality and API Integration</strong><br>
   Initially, there were significant challenges in implementing <strong>MPLAB code</strong> for the <strong>PIC microcontroller</strong>, particularly in defining the API structure for subsystem communication. The team overcame this issue by carefully debugging the MPLAB code and structuring the API so that identification of users and devices followed a logical format. This update allowed <strong>proper recognition of commands</strong> from different components, ensuring seamless message routing. The <strong>UML sequence diagram</strong> now correctly represents this improved interaction, showing how messages flow from the sensor subsystem to the motor drive and MQTT system without data loss or misinterpretation.  </p>
</li>
<li>
<p><strong>Synchronization of Sensor Data Across Subsystems</strong><br>
   One of the biggest challenges was ensuring that sensor data was <strong>properly translated</strong> across all subsystems so that every component remained in sync. Early versions of the system had <strong>timing mismatches</strong>, causing incorrect actuator responses. The team resolved this by refining <strong>data transmission timing</strong>, adding <strong>delays</strong> where necessary, and ensuring that <strong>each subsystem processes temperature readings in real time</strong>. The <strong>UML diagram</strong> illustrates how information is processed correctly through structured communication delays, ensuring smooth synchronization across all components.  </p>
</li>
</ol>
<p>These refinements ensure that the system meets <strong>user needs, project specifications, and class requirements</strong>, improving both <strong>functionality and real-world applicability</strong>. The <strong>UML sequence diagram</strong> validates these changes by accurately depicting <strong>sensor communication, actuator responses, data transmission, and user interaction</strong> throughout the system.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer">
        
          
          <a href="../Message%20Structure/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Message Structure">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Message Structure
              </div>
            </div>
          </a>
        
        
          
          <a href="../Individual%20Block%20Diagrams/%28HMI%29%20LCD%20Block%20Diagram%20%28Kevin%29/" class="md-footer__link md-footer__link--next" aria-label="Next: (HMI) LCD Block Diagram (Kevin)">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                (HMI) LCD Block Diagram (Kevin)
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"></path></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.sections", "navigation.tabs.sticky", "navigation.path", "navigation.indexes", "navigation.prune", "toc.follow", "navigation.footer", "content.action.edit", "search.highlight", "content.code.copy"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.3220b9d7.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>